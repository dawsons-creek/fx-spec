
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Pure F# BDD testing framework inspired by RSpec. Type-safe, functional, and beautiful.">
      
      
        <meta name="author" content="FxSpec Contributors">
      
      
        <link rel="canonical" href="https://yourorg.github.io/fx-spec/Designing%20an%20F%23%20RSpec%20Clone/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>An Architectural Blueprint for a Pure F# RSpec-Inspired BDD Framework - FxSpec</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#an-architectural-blueprint-for-a-pure-f-rspec-inspired-bdd-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FxSpec" class="md-header__button md-logo" aria-label="FxSpec" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FxSpec
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              An Architectural Blueprint for a Pure F# RSpec-Inspired BDD Framework
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yourorg/fx-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    yourorg/fx-spec
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quick-start/" class="md-tabs__link">
        
  
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../community/contributing/" class="md-tabs__link">
          
  
  
    
  
  Community

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FxSpec" class="md-nav__button md-logo" aria-label="FxSpec" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"/></svg>

    </a>
    FxSpec
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yourorg/fx-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    yourorg/fx-spec
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/dsl-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DSL API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Matchers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Matchers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/matchers/core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/matchers/collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Collections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/matchers/strings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Strings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/matchers/numeric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Numeric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/matchers/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-introduction-a-vision-for-bdd-in-f" class="md-nav__link">
    <span class="md-ellipsis">
      I. Introduction: A Vision for BDD in F#
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I. Introduction: A Vision for BDD in F#">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-the-bdd-philosophy-and-rspecs-legacy" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. The BDD Philosophy and RSpec's Legacy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-the-f-advantage-type-safety-meets-expressiveness" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. The F# Advantage: Type Safety Meets Expressiveness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-project-goals-and-non-goals" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Project Goals and Non-Goals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-architecting-the-core-dsl-with-computation-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      II. Architecting the Core DSL with Computation Expressions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="II. Architecting the Core DSL with Computation Expressions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-deconstructing-rspecs-structure-a-tree-of-examples" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Deconstructing RSpec's Structure: A Tree of Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-the-spec-computation-expression-a-builder-for-test-suites" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. The spec Computation Expression: A Builder for Test Suites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-implementing-the-builder-describe-it-and-nesting" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Implementing the Builder: describe, it, and Nesting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-state-management-replicating-let-subject-and-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. State Management: Replicating let, subject, and Hooks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-building-a-fluent-and-type-safe-assertion-system" class="md-nav__link">
    <span class="md-ellipsis">
      III. Building a Fluent and Type-Safe Assertion System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III. Building a Fluent and Type-Safe Assertion System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-the-anatomy-of-an-expectation-expect-to-and-matchers" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. The Anatomy of an Expectation: expect, to', and Matchers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-a-type-safe-matcher-architecture-with-discriminated-unions" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. A Type-Safe Matcher Architecture with Discriminated Unions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-implementation-of-core-matchers" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Implementation of Core Matchers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-a-guide-to-authoring-custom-matchers" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. A Guide to Authoring Custom Matchers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-the-test-runner-discovery-execution-and-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      IV. The Test Runner: Discovery, Execution, and Reporting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IV. The Test Runner: Discovery, Execution, and Reporting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-test-discovery-via-reflection" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Test Discovery via Reflection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-the-execution-engine-a-stateful-tree-traversal" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. The Execution Engine: A Stateful Tree Traversal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-result-aggregation-and-the-cli" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Result Aggregation and the CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-implementing-rspec-equivalent-spec-types" class="md-nav__link">
    <span class="md-ellipsis">
      V. Implementing RSpec-Equivalent Spec Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="V. Implementing RSpec-Equivalent Spec Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-model-specs-testing-domain-logic" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Model Specs: Testing Domain Logic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-request-specs-integration-testing-for-web-apis" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Request Specs: Integration Testing for Web APIs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-system-feature-specs-high-level-user-interaction" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. System &amp; Feature Specs: High-Level User Interaction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-crafting-elegant-and-informative-console-output" class="md-nav__link">
    <span class="md-ellipsis">
      VI. Crafting Elegant and Informative Console Output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VI. Crafting Elegant and Informative Console Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-principles-of-effective-bdd-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Principles of Effective BDD Reporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-leveraging-spectreconsole-for-rich-output" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Leveraging Spectre.Console for Rich Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-designing-comprehensive-failure-messages" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Designing Comprehensive Failure Messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vii-conclusion-and-future-directions" class="md-nav__link">
    <span class="md-ellipsis">
      VII. Conclusion and Future Directions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VII. Conclusion and Future Directions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-summary-of-the-architectural-design" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Summary of the Architectural Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Future Enhancements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="an-architectural-blueprint-for-a-pure-f-rspec-inspired-bdd-framework"><strong>An Architectural Blueprint for a Pure F# RSpec-Inspired BDD Framework</strong><a class="headerlink" href="#an-architectural-blueprint-for-a-pure-f-rspec-inspired-bdd-framework" title="Permanent link">&para;</a></h1>
<h2 id="i-introduction-a-vision-for-bdd-in-f"><strong>I. Introduction: A Vision for BDD in F#</strong><a class="headerlink" href="#i-introduction-a-vision-for-bdd-in-f" title="Permanent link">&para;</a></h2>
<h3 id="11-the-bdd-philosophy-and-rspecs-legacy"><strong>1.1. The BDD Philosophy and RSpec's Legacy</strong><a class="headerlink" href="#11-the-bdd-philosophy-and-rspecs-legacy" title="Permanent link">&para;</a></h3>
<p>Behavior-Driven Development (BDD) represents a significant evolution of Test-Driven Development (TDD), shifting the focus from testing implementation details to specifying application behavior in a human-readable format.1 The primary goal of BDD is to foster collaboration between developers, quality assurance professionals, and business stakeholders by creating a shared language. This is achieved through "executable specifications"â€”tests that double as living documentation for the system.1<br />
In the landscape of BDD frameworks, Ruby's RSpec stands as a paragon of design. Its success is rooted in a Domain-Specific Language (DSL) that is not only powerful but also exceptionally expressive, making the process of writing tests both "productive and fun".3 RSpec's conversational syntax, structured around keywords like describe, context, and it, allows developers to articulate the behavior of their code in a clear, narrative style.4 This structure encourages a methodical approach to testing, guiding developers to consider different scenarios and states, from the "happy path" to edge cases and error conditions.1 RSpec's comprehensive feature set, including its flexible state management (let, subject, hooks) and extensible matcher system (expect(...).to), has established it as the definitive benchmark for BDD frameworks and serves as the primary inspiration for this architectural design.1</p>
<h3 id="12-the-f-advantage-type-safety-meets-expressiveness"><strong>1.2. The F# Advantage: Type Safety Meets Expressiveness</strong><a class="headerlink" href="#12-the-f-advantage-type-safety-meets-expressiveness" title="Permanent link">&para;</a></h3>
<p>While RSpec's dynamic nature in Ruby provides great flexibility, it also carries the inherent risks of runtime errors that are common in dynamically-typed languages. An F# implementation of a BDD framework presents a compelling opportunity to merge the elegant, human-centric DSL of RSpec with the rigorous guarantees of a powerful, statically-typed functional language. F# is uniquely positioned for this endeavor due to several key features:</p>
<ul>
<li><strong>Type Safety and Inference:</strong> F#'s strong, static type system can eliminate entire categories of errors at compile time. This ensures that test code, matchers, and the framework itself are more robust and correct by construction.  </li>
<li><strong>Immutability by Default:</strong> The emphasis on immutable data structures encourages writing pure, side-effect-free tests, which are easier to reason about, maintain, and execute reliably.  </li>
<li><strong>Computation Expressions:</strong> This cornerstone F# feature provides a syntactic mechanism for creating powerful, embedded DSLs.8 It allows for the creation of a testing syntax that closely mirrors RSpec's nested block structure while being backed by a well-defined, type-safe builder.10  </li>
<li><strong>Discriminated Unions and Pattern Matching:</strong> These features are ideal for modeling complex, disjoint states in a type-safe manner.13 They provide a superior foundation for building an assertion and matcher system, enabling the creation of rich, structured results that go far beyond simple boolean pass/fail checks.13</li>
</ul>
<p>This project's core thesis is that by leveraging these F# features, it is possible to create a testing framework that is not merely an RSpec clone, but a conceptual enhancement. The resulting framework will offer the readability and behavioral focus of RSpec while providing the compile-time safety, correctness, and composability that are hallmarks of the F# language.</p>
<h3 id="13-project-goals-and-non-goals"><strong>1.3. Project Goals and Non-Goals</strong><a class="headerlink" href="#13-project-goals-and-non-goals" title="Permanent link">&para;</a></h3>
<p>To maintain a clear focus, the goals and non-goals of this architectural design are explicitly defined.<br />
<strong>Goals:</strong></p>
<ul>
<li><strong>Purity and Independence:</strong> To design a complete, self-contained BDD framework in pure F#. The entire lifecycle of test discovery, execution, assertion, and reporting will be managed by custom F# code, without any underlying dependency on existing.NET testing frameworks such as NUnit, xUnit, MSTest, or their associated runners like VSTest.15  </li>
<li><strong>RSpec Feature Parity:</strong> The architecture will provide a clear path to implementing the full spectrum of RSpec's core features, including its nested DSL, state management hooks, fluent expect syntax, a comprehensive matcher library, and specialized spec types for different application layers.  </li>
<li><strong>Idiomatic F# Design:</strong> The implementation will prioritize functional programming principles and F# idioms. It will favor immutability, function composition, and powerful type-system features over imperative or object-oriented patterns where appropriate.  </li>
<li><strong>High-Quality Console Reporting:</strong> The test runner will produce elegant, well-structured, and highly informative output to the console, providing clear visual cues for test grouping and detailed, actionable error messages for failures.</li>
</ul>
<p><strong>Non-Goals:</strong></p>
<ul>
<li><strong>Reliance on Existing.NET Test Infrastructure:</strong> The framework will not use.NET attributes like or for discovery, nor will it integrate with the dotnet test command's default execution pipeline. It will be invoked via its own command-line executable.  </li>
<li><strong>Initial Support for Parallel Execution:</strong> The initial design will focus on a robust sequential test execution model. The architecture will, however, be designed with future parallelization in mind, and this will be discussed as a potential enhancement.  </li>
<li><strong>A Full-Featured Mocking Library:</strong> While basic mocking can be achieved with F#'s object expressions, the initial scope does not include the creation of a complete mocking library equivalent to rspec-mocks. The design will be extensible to accommodate such a library in the future.</li>
</ul>
<h2 id="ii-architecting-the-core-dsl-with-computation-expressions"><strong>II. Architecting the Core DSL with Computation Expressions</strong><a class="headerlink" href="#ii-architecting-the-core-dsl-with-computation-expressions" title="Permanent link">&para;</a></h2>
<p>The foundation of an RSpec-like framework is its expressive, nested DSL. In F#, this can be elegantly achieved using Computation Expressions (CEs), which provide the syntactic flexibility to mimic RSpec's block-based structure within a statically-typed environment.</p>
<h3 id="21-deconstructing-rspecs-structure-a-tree-of-examples"><strong>2.1. Deconstructing RSpec's Structure: A Tree of Examples</strong><a class="headerlink" href="#21-deconstructing-rspecs-structure-a-tree-of-examples" title="Permanent link">&para;</a></h3>
<p>At its core, an RSpec test suite is not merely a sequence of commands but a hierarchical structure of example groups and examples.1 The describe and context keywords define nested groups, which serve to organize tests and establish shared setup, while the it keyword defines the individual, verifiable examples.<br />
This hierarchical nature lends itself perfectly to being modeled as a tree data structure. By explicitly defining the test suite as a tree, we can separate the <em>declaration</em> of the tests from their <em>execution</em>. This separation is a fundamental architectural decision that enables powerful metaprogramming, flexible execution strategies, and clear, composable code. The F# type system, particularly with Discriminated Unions, is ideal for representing this structure:</p>
<p>F#</p>
<p>/// Represents the outcome of a single test execution.<br />
type TestResult =</p>
<p>| Pass<br />
| Fail of exn option<br />
| Skipped of reason: string</p>
<p>/// A function that, when executed, produces a TestResult.<br />
type TestExecution = unit -&gt; TestResult</p>
<p>/// Represents a node in the test suite tree.<br />
type TestNode =<br />
    /// A leaf node representing an individual test case.</p>
<p>| Example of description: string * test: TestExecution<br />
    /// An internal node representing a group of tests.</p>
<p>| Group of description: string * tests: TestNode list</p>
<p>In this model, describe and context blocks correspond to Group nodes, and it blocks correspond to Example nodes. This concrete data structure is the target output of our DSL.</p>
<h3 id="22-the-spec-computation-expression-a-builder-for-test-suites"><strong>2.2. The spec Computation Expression: A Builder for Test Suites</strong><a class="headerlink" href="#22-the-spec-computation-expression-a-builder-for-test-suites" title="Permanent link">&para;</a></h3>
<p>F# Computation Expressions are the premier tool for building embedded DSLs.8 While they are commonly associated with managing control flow for monadic types like async or option, their capabilities are far more general. For this framework, the spec computation expression will not be used for control flow but as a declarative <strong>tree builder</strong>. Its sole purpose is to construct an instance of the TestNode tree defined above.<br />
The entry point to the DSL will be an instance of a builder class:</p>
<p>F#</p>
<p>type SpecBuilder() =<br />
    //... builder methods...</p>
<p>let spec = SpecBuilder()</p>
<p>A user will then define a test suite like this:</p>
<p>F#</p>
<p>let myFirstSpec =<br />
    spec {<br />
        describe "A Stack" {<br />
            //... nested contexts and examples...<br />
        }<br />
    }</p>
<p>The code inside the spec {... } block will be transformed by the compiler, using the methods on SpecBuilder, into an expression that returns a TestNode list, which can then be collected and executed by the test runner. This approach transforms what appears to be a series of imperative declarations into the construction of a single, immutable data structure. This is a non-obvious but powerful application of CEs, perfectly suited for this domain.8</p>
<h3 id="23-implementing-the-builder-describe-it-and-nesting"><strong>2.3. Implementing the Builder: describe, it, and Nesting</strong><a class="headerlink" href="#23-implementing-the-builder-describe-it-and-nesting" title="Permanent link">&para;</a></h3>
<p>The SpecBuilder class translates the DSL syntax into the TestNode tree structure. This is achieved by implementing a specific set of methods that the F# compiler looks for when processing a computation expression.</p>
<ul>
<li><strong>describe and context:</strong> These are the primary grouping constructs. They can be implemented as custom operations on the builder using the [\&lt;CustomOperation&gt;] attribute.17 These methods will accept a description string and a nested computation expression (which itself produces a TestNode list). The method's job is to take the result of the nested block and wrap it in a Group node.  </li>
<li><strong>it:</strong> This keyword defines a leaf-node example. It maps directly to the Yield method of the computation expression. The Yield method will take the example's description and its body (a function of type unit -&gt; unit) and create an Example node. The body is wrapped in a thunk to delay its execution until the runner is ready.  </li>
<li><strong>Nesting and Sequencing:</strong> The ability to have multiple it blocks in a row or nested describe blocks is handled by the Combine method. When the compiler encounters two consecutive expressions within the CE, it passes their results to Combine. For this tree builder, the implementation of Combine is straightforward: it concatenates the two lists of TestNodes it receives. This simple mechanism, combined with the recursive nature of the custom operations, provides full support for arbitrarily deep nesting.</li>
</ul>
<p>The following table provides a clear mapping from the DSL syntax to the underlying builder implementation, demystifying the process for the user.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">DSL Keyword/Construct</th>
<th style="text-align: left;">SpecBuilder Method</th>
<th style="text-align: left;">Role in Tree Construction</th>
</tr>
</thead>
<tbody>
<tr>
<td class=".." style="text-align: left;">spec</td>
<td style="text-align: left;">Run</td>
<td style="text-align: left;">Kicks off the collection process, returning the final TestNode tree.</td>
</tr>
<tr>
<td class=".." style="text-align: left;">describe "..."</td>
<td style="text-align: left;">CustomOperation("describe")</td>
<td style="text-align: left;">Creates a Group node, recursively processing the inner block to generate its children.</td>
</tr>
<tr>
<td class=".." style="text-align: left;">context "..."</td>
<td style="text-align: left;">CustomOperation("context")</td>
<td style="text-align: left;">An alias for describe, serving the same function.</td>
</tr>
<tr>
<td class=".." style="text-align: left;">it "..."</td>
<td style="text-align: left;">Yield</td>
<td style="text-align: left;">Creates an Example leaf node. The body is wrapped in a thunk for later execution.</td>
</tr>
<tr>
<td style="text-align: left;">(Sequential it blocks)</td>
<td style="text-align: left;">Combine</td>
<td style="text-align: left;">Merges multiple TestNodes into a single list for the parent Group.</td>
</tr>
<tr>
<td style="text-align: left;">let! x =...</td>
<td style="text-align: left;">Bind</td>
<td style="text-align: left;">Binds a value for use within the spec's scope (primarily for setup).</td>
</tr>
<tr>
<td style="text-align: left;">return ()</td>
<td style="text-align: left;">Return</td>
<td style="text-align: left;">Signifies the end of a block, returning an empty list of nodes (``).</td>
</tr>
</tbody>
</table>
<h3 id="24-state-management-replicating-let-subject-and-hooks"><strong>2.4. State Management: Replicating let, subject, and Hooks</strong><a class="headerlink" href="#24-state-management-replicating-let-subject-and-hooks" title="Permanent link">&para;</a></h3>
<p>A key feature of RSpec is its sophisticated, lexically-scoped state management system, which includes let for lazy-loaded variables, subject for the primary object under test, and before/after hooks for setup and teardown.1 Replicating this behavior correctly is crucial for feature parity.<br />
The execution model required to support this is a stateful one. RSpec's state is lexically scoped; an it block can access let variables defined in any of its parent describe blocks. This implies a stack-based context that is managed by the test runner during execution. When the runner traverses the TestNode tree, it will maintain a "scope stack."</p>
<ol>
<li>When execution enters a Group node, a new scope record is pushed onto the stack. This record contains the let definitions and before/after hooks defined within that specific group.  </li>
<li>When an Example node is executed, the runner consults the <em>entire</em> scope stack to resolve let variables and execute all relevant hooks in the correct order (from outermost to innermost for before hooks, and the reverse for after hooks).  </li>
<li>When execution leaves a Group node, its corresponding scope record is popped from the stack.</li>
</ol>
<p>This stateful interpreter model correctly and robustly implements RSpec's lexical scoping rules. The DSL keywords for state management are implemented as follows:</p>
<ul>
<li><strong>let:</strong> To avoid cluttering the CE, this will be implemented as a helper function, let', rather than a keyword. A call like let' "myVar" (fun () -&gt; createExpensiveObject()) will not execute the function but will register a lazy, memoized factory in the current execution scope. The first time "myVar" is accessed within a test, the factory is executed, and its result is cached for the duration of that specific example run.  </li>
<li><strong>subject:</strong> This will be a custom operation, subject \&lt;| fun () -&gt;..., which provides syntactic sugar over let' "subject" (fun () -&gt;...).  </li>
<li><strong>before and after:</strong> These will be custom operations that register (unit -&gt; unit) functions in the current scope. The runner will execute these functions at the appropriate times based on the scope stack.</li>
</ul>
<h2 id="iii-building-a-fluent-and-type-safe-assertion-system"><strong>III. Building a Fluent and Type-Safe Assertion System</strong><a class="headerlink" href="#iii-building-a-fluent-and-type-safe-assertion-system" title="Permanent link">&para;</a></h2>
<p>The assertion system is where the framework's correctness guarantees are enforced. This design moves beyond RSpec's dynamic matchers to a fully type-safe, functional, and highly expressive system built on core F# features.</p>
<h3 id="31-the-anatomy-of-an-expectation-expect-to-and-matchers"><strong>3.1. The Anatomy of an Expectation: expect, to', and Matchers</strong><a class="headerlink" href="#31-the-anatomy-of-an-expectation-expect-to-and-matchers" title="Permanent link">&para;</a></h3>
<p>RSpec's assertion syntax is famously readable: expect(value).to eq(expected).4 This fluent chain can be replicated idiomatically in F# using the pipe operator and higher-order functions:<br />
expect actual |&gt; to' (matcher expected)<br />
The components of this chain are:</p>
<ul>
<li><strong>expect:</strong> A simple identity function, let expect x = x. Its purpose is purely syntactic, providing a clear and familiar starting point for an assertion.  </li>
<li><strong>to':</strong> A higher-order function that serves as the assertion engine. It takes a Matcher function and the actual value as arguments. It executes the matcher, inspects the result, and if the result is a failure, it throws a custom AssertionException to signal the test failure to the runner. The tick (') is used to avoid a name collision with the F# to keyword in for loops.  </li>
<li><strong>Matcher:</strong> A function that takes an actual value and returns a structured result indicating success or failure. For example, a simple matcher has the signature 'a -&gt; MatchResult.</li>
</ul>
<h3 id="32-a-type-safe-matcher-architecture-with-discriminated-unions"><strong>3.2. A Type-Safe Matcher Architecture with Discriminated Unions</strong><a class="headerlink" href="#32-a-type-safe-matcher-architecture-with-discriminated-unions" title="Permanent link">&para;</a></h3>
<p>The most significant architectural improvement over RSpec's matcher system is the use of F# Discriminated Unions (DUs) to model the outcome of an assertion.13 Whereas an RSpec matcher typically returns a boolean and relies on separate methods for generating failure messages 4, this design uses a single, rich, and type-safe DU to represent the result:</p>
<p>F#</p>
<p>type MatchResult\&lt;'a&gt; =</p>
<p>| Pass<br />
| Fail of message: string * expected: obj option * actual: obj option</p>
<p>This approach is a profound shift from a procedural to a declarative model. It provides several key advantages:</p>
<ol>
<li><strong>Type Safety:</strong> The set of possible outcomes is fixed and known at compile time.  </li>
<li><strong>Rich Failure Data:</strong> A Fail case carries all the information needed to generate a high-quality error report, including a descriptive message and the expected and actual values for diffing.  </li>
<li><strong>Decoupling:</strong> The logic of a matcher is completely decoupled from the logic of failure reporting. A matcher's only job is to produce a MatchResult. The to' function's only job is to pattern match on this result and throw an exception if it's a Fail. This separation of concerns makes the entire system cleaner, more robust, and easier to extend.</li>
</ol>
<h3 id="33-implementation-of-core-matchers"><strong>3.3. Implementation of Core Matchers</strong><a class="headerlink" href="#33-implementation-of-core-matchers" title="Permanent link">&para;</a></h3>
<p>Implementing matchers becomes a straightforward exercise of writing functions that return a MatchResult.</p>
<ul>
<li>
<p><strong>equal:</strong> A generic equality matcher.<br />
  F#<br />
  let equal expected actual =<br />
      if actual = expected then<br />
          Pass<br />
      else<br />
          let msg = sprintf "Expected value to be %A, but found %A." expected actual<br />
          Fail (msg, Some (box expected), Some (box actual))</p>
</li>
<li>
<p><strong>beNil:</strong> A matcher to check for null.<br />
  F#<br />
  let beNil actual =<br />
      if obj.ReferenceEquals(actual, null) then<br />
          Pass<br />
      else<br />
          let msg = "Expected value to be null, but it was not."<br />
          Fail (msg, Some null, Some (box actual))</p>
</li>
<li>
<p><strong>contain:</strong> A generic collection matcher. Its type signature, let contain (expected: 'a) (actual: 'a seq), provides a compile-time guarantee that it can only be used with sequence typesâ€”a level of safety RSpec cannot offer.  </p>
</li>
<li><strong>raiseException:</strong> A more complex matcher for testing exceptions. It accepts a function to execute and uses a try...catch block to verify that an exception of the correct type is thrown.<br />
  F#<br />
  let raiseException\&lt;'T when 'T :&gt; exn&gt; (f: unit -&gt; unit) =<br />
      try<br />
          f()<br />
          let msg = sprintf "Expected an exception of type %s to be thrown, but nothing was thrown." (typeof\&lt;'T&gt;.Name)<br />
          Fail (msg, Some (box typeof\&lt;'T&gt;), None)<br />
      with</li>
</ul>
<p>| :? 'T -&gt; Pass<br />
| ex -&gt;<br />
let msg = sprintf "Expected an exception of type %s, but an exception of type %s was thrown." (typeof\&lt;'T&gt;.Name) (ex.GetType().Name)<br />
Fail (msg, Some (box typeof\&lt;'T&gt;), Some (box ex.GetType()))<br />
```</p>
<h3 id="34-a-guide-to-authoring-custom-matchers"><strong>3.4. A Guide to Authoring Custom Matchers</strong><a class="headerlink" href="#34-a-guide-to-authoring-custom-matchers" title="Permanent link">&para;</a></h3>
<p>Creating custom matchers in this framework is significantly simpler than in RSpec.4 A user does not need to learn a special DSL or implement a class with multiple methods. Instead, they simply write a function that takes a value and returns a MatchResult. This purely functional approach makes custom matchers easy to write, test, and compose.<br />
The following table translates common RSpec assertions into the proposed F# DSL, illustrating the intuitive and consistent design.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Matcher</th>
<th style="text-align: left;">RSpec Example</th>
<th style="text-align: left;">F# Example</th>
<th style="text-align: left;">F# Implementation Sketch</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Equality</td>
<td style="text-align: left;">expect(a).to eq(b)</td>
<td style="text-align: left;">`expect a</td>
<td style="text-align: left;">&gt; to' (equal b)`</td>
</tr>
<tr>
<td style="text-align: left;">Nil Check</td>
<td style="text-align: left;">expect(a).to be_nil</td>
<td style="text-align: left;">`expect a</td>
<td style="text-align: left;">&gt; to' beNil`</td>
</tr>
<tr>
<td style="text-align: left;">Collection</td>
<td style="text-align: left;">expect(col).to include(item)</td>
<td style="text-align: left;">`expect col</td>
<td style="text-align: left;">&gt; to' (contain item)`</td>
</tr>
<tr>
<td style="text-align: left;">Error</td>
<td style="text-align: left;">expect {}.to raise_error</td>
<td style="text-align: left;">`expect (fun () -&gt;...)</td>
<td style="text-align: left;">&gt; to' (raiseException)`</td>
</tr>
<tr>
<td style="text-align: left;">Truthiness</td>
<td style="text-align: left;">expect(a).to be_truthy</td>
<td style="text-align: left;">`expect a</td>
<td style="text-align: left;">&gt; to' beTruthy`</td>
</tr>
</tbody>
</table>
<h2 id="iv-the-test-runner-discovery-execution-and-reporting"><strong>IV. The Test Runner: Discovery, Execution, and Reporting</strong><a class="headerlink" href="#iv-the-test-runner-discovery-execution-and-reporting" title="Permanent link">&para;</a></h2>
<p>The test runner is the engine that brings the DSL to life. It is responsible for discovering the tests defined by the user, executing them in the correct order with the correct state, and reporting the results.</p>
<h3 id="41-test-discovery-via-reflection"><strong>4.1. Test Discovery via Reflection</strong><a class="headerlink" href="#41-test-discovery-via-reflection" title="Permanent link">&para;</a></h3>
<p>Test discovery will be initiated from a command-line tool. The mechanism avoids the heavy reflection used by traditional.NET test frameworks 16 by leveraging a custom attribute and the TestNode data structure.<br />
First, a custom attribute is defined to mark test suites for discovery:</p>
<p>F#</p>
<p>type TestsAttribute() = inherit System.Attribute()</p>
<p>The discovery process is as follows:</p>
<ol>
<li>The runner is given the path to a test assembly (e.g., MyProject.Tests.dll).  </li>
<li>It loads the assembly using System.Reflection.Assembly.LoadFrom().  </li>
<li>It iterates through all exported types in the assembly via assembly.GetTypes().  </li>
<li>For each type, it searches for public, static let-bound values that are of type TestNode (or TestNode list) and are decorated with the `` attribute.21</li>
</ol>
<p>This approach is highly efficient. Reflection is used only as a lightweight bootstrapper to locate the root nodes of the test trees. The complex structure of the test suite has already been built by the computation expression and captured by the F# type system. This minimizes reliance on slow reflection and keeps the test definitions themselves strongly typed and compiler-verified.</p>
<h3 id="42-the-execution-engine-a-stateful-tree-traversal"><strong>4.2. The Execution Engine: A Stateful Tree Traversal</strong><a class="headerlink" href="#42-the-execution-engine-a-stateful-tree-traversal" title="Permanent link">&para;</a></h3>
<p>The execution engine's core is a recursive function that traverses the discovered TestNode tree while managing the stateful scope stack described in Section 2.4.<br />
The main function, executeNode(node, scopeStack), operates as follows:</p>
<ol>
<li>If node is a Group:<br />
   a. Create a new scope record containing the let definitions and before/after hooks defined for this group.<br />
   b. Push this new scope onto the scopeStack.<br />
   c. Recursively call executeNode for each child node in the group's tests list, collecting the results.<br />
   d. Pop the scope from the scopeStack.<br />
   e. Return a GroupResult node containing the description and the collected child results.  </li>
<li>If node is an Example:<br />
   a. Execute all before hooks found on the scopeStack, from the outermost scope to the innermost.<br />
   b. Execute the example's test function (TestExecution). This execution is wrapped in a try...catch block. If the function completes without an exception, the result is Pass. If an AssertionException or any other exception is caught, the result is Fail, capturing the exception details.<br />
   c. Execute all after hooks on the scopeStack, from the innermost scope to the outermost.<br />
   d. Return an ExampleResult node containing the description and the final TestResult.</li>
</ol>
<p>The implementation of the let' cache is managed within the scope records. Each scope will contain a concurrent dictionary to store memoized values. When a let variable is requested, the runner checks all dictionaries on the stack (from inner to outer). If found, the cached value is returned. If not, the factory function is executed, the result is stored in the current scope's cache, and then returned.</p>
<h3 id="43-result-aggregation-and-the-cli"><strong>4.3. Result Aggregation and the CLI</strong><a class="headerlink" href="#43-result-aggregation-and-the-cli" title="Permanent link">&para;</a></h3>
<p>As the execution engine traverses the TestNode tree, it constructs a parallel tree of results. The final output of the execution phase is a TestResultNode tree that mirrors the original test suite structure but is annotated with the outcome of each example.<br />
This result tree is then passed to a formatter for display. The command-line interface (CLI) for the runner will be built using a library like Argu, which simplifies parsing command-line arguments in F#.22 The CLI will support essential features:</p>
<ul>
<li><strong>Target Assembly:</strong> dotnet fspec \&lt;path-to-tests.dll&gt;  </li>
<li><strong>Test Filtering:</strong> --filter "User login" to run only tests whose descriptions contain the given substring.  </li>
<li><strong>Output Formatting:</strong> --format documentation (default) or potentially other formats like --format json in the future.</li>
</ul>
<h2 id="v-implementing-rspec-equivalent-spec-types"><strong>V. Implementing RSpec-Equivalent Spec Types</strong><a class="headerlink" href="#v-implementing-rspec-equivalent-spec-types" title="Permanent link">&para;</a></h2>
<p>A powerful aspect of RSpec is its specialization for different layers of an application.23 The core framework designed here is extensible and can be used as a foundation for building these specialized DSLs.</p>
<h3 id="51-model-specs-testing-domain-logic"><strong>5.1. Model Specs: Testing Domain Logic</strong><a class="headerlink" href="#51-model-specs-testing-domain-logic" title="Permanent link">&para;</a></h3>
<p>Model specs are the most fundamental type of test, focusing on the business logic and data structures of an application.24 In an F# context, this involves testing functions, records, and discriminated unions. The core spec computation expression and the standard matcher library are perfectly suited for this purpose without any modification. Examples would include testing function composition, verifying the state transitions of a DU, or asserting the properties of an immutable record after an operation.</p>
<h3 id="52-request-specs-integration-testing-for-web-apis"><strong>5.2. Request Specs: Integration Testing for Web APIs</strong><a class="headerlink" href="#52-request-specs-integration-testing-for-web-apis" title="Permanent link">&para;</a></h3>
<p>Request specs are designed for integration testing of web APIs, exercising the full stack from routing and middleware down to the controller and response generation.23 To support this, a new requestSpec computation expression can be created.<br />
This RequestSpecBuilder would extend the base SpecBuilder and manage an HttpClient instance internally. For testing ASP.NET Core applications, this client would typically be created from an in-memory WebApplicationFactory, which hosts the application without needing a live network connection.29<br />
The requestSpec builder would introduce custom operations for making HTTP requests:</p>
<ul>
<li>get "/api/users"  </li>
<li>post "/api/users" withJson {| Name = "Test" |}  </li>
<li>put "/api/users/1" withHeaders</li>
</ul>
<p>These operations would execute the HTTP request and store the resulting HttpResponseMessage in the execution context, making it available to subsequent assertions within an it block. Specialized matchers would also be provided for convenience:</p>
<ul>
<li>haveStatusCode 200  </li>
<li>haveHeader "Content-Type" "application/json"  </li>
<li>haveJsonBody {| Id = 1; Name = "Test" |}</li>
</ul>
<h3 id="53-system-feature-specs-high-level-user-interaction"><strong>5.3. System &amp; Feature Specs: High-Level User Interaction</strong><a class="headerlink" href="#53-system-feature-specs-high-level-user-interaction" title="Permanent link">&para;</a></h3>
<p>System or Feature specs are the highest level of automated tests, simulating user interaction with the application through a web browser.23 In RSpec, this is accomplished via the Capybara library.<br />
An F# equivalent would require a featureSpec computation expression that integrates with a.NET browser automation library, such as <strong>Playwright Sharp</strong>. The FeatureSpecBuilder would manage the browser instance, page context, and navigation. It would provide custom operations that mirror user actions:</p>
<ul>
<li>visit "/login"  </li>
<li>fillIn "#username" with "<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#117;&#115;&#101;&#114;&#64;&#101;&#120;&#97;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#109;">&#117;&#115;&#101;&#114;&#64;&#101;&#120;&#97;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#109;</a>"  </li>
<li>click "Log In"  </li>
<li>see "Welcome, user!"</li>
</ul>
<p>Given the complexity of browser automation, this feature represents a significant extension. The core architecture, however, provides the necessary hooks (custom operations and extensible builders) to support such an integration as the framework matures.</p>
<h2 id="vi-crafting-elegant-and-informative-console-output"><strong>VI. Crafting Elegant and Informative Console Output</strong><a class="headerlink" href="#vi-crafting-elegant-and-informative-console-output" title="Permanent link">&para;</a></h2>
<p>The final, and arguably most important, user-facing component of a BDD framework is its output. The test results must be presented as clear, readable documentation.</p>
<h3 id="61-principles-of-effective-bdd-reporting"><strong>6.1. Principles of Effective BDD Reporting</strong><a class="headerlink" href="#61-principles-of-effective-bdd-reporting" title="Permanent link">&para;</a></h3>
<p>The primary goal of the output formatter is to reflect the nested, descriptive structure of the test suite itself. A successful run should read like a specification document, confirming the system's behavior. A failed run should immediately draw attention to the broken specification, providing all the necessary context to diagnose the issue quickly. RSpec's documentation formatter is the model for this style of reporting.3</p>
<h3 id="62-leveraging-spectreconsole-for-rich-output"><strong>6.2. Leveraging Spectre.Console for Rich Output</strong><a class="headerlink" href="#62-leveraging-spectreconsole-for-rich-output" title="Permanent link">&para;</a></h3>
<p>To create a modern, visually appealing, and informative console experience, this design will leverage the <strong>Spectre.Console</strong> library.33 This powerful library provides a rich API for rendering colored text, tables, trees, and other widgets, abstracting away the complexities of cross-platform terminal control.<br />
A DocumentationFormatter class will be responsible for rendering the TestResultNode tree. It will recursively traverse the tree, using Spectre.Console's markup capabilities to:</p>
<ul>
<li>Print Group descriptions with increasing indentation to show nesting.  </li>
<li>Print Example descriptions prefixed with a colored symbol: a green checkmark ([green]âœ“[/]) for Pass and a red cross ([red]âœ—[/]) for Fail.  </li>
<li>Display a summary of total, passed, and failed tests at the end of the run.</li>
</ul>
<h3 id="63-designing-comprehensive-failure-messages"><strong>6.3. Designing Comprehensive Failure Messages</strong><a class="headerlink" href="#63-designing-comprehensive-failure-messages" title="Permanent link">&para;</a></h3>
<p>A failing test is not just an error; it is a critical piece of feedback. The quality of the failure message directly impacts developer productivity. While RSpec provides good basic messages 3, inspiration will be drawn from modern frameworks like Jest and FluentAssertions, which provide rich diffs and highly descriptive error reports.35<br />
A failure message is a core feature of the framework, not an afterthought. Thanks to the MatchResult DU, the formatter has access to all the necessary data to generate an excellent report. For each failed test, the DocumentationFormatter will output:</p>
<ol>
<li><strong>The full, nested description of the test</strong>, printed in red to provide context.  </li>
<li><strong>The specific failure message</strong> from the matcher (e.g., "Expected value to be 42, but found 99.").  </li>
<li><strong>A color-coded diff view</strong> of the expected vs. actual values, if they were provided in the Fail case. For complex objects, this could involve a side-by-side or inline diff.  </li>
<li><strong>A cleaned-up stack trace</strong> that pinpoints the exact line in the user's test file where the assertion failed, filtering out the internal noise from the test runner itself.</li>
</ol>
<p>This multi-part failure report provides immediate, actionable information, helping developers understand not just <em>that</em> a test failed, but precisely <em>what</em> was wrong and <em>where</em>.</p>
<h2 id="vii-conclusion-and-future-directions"><strong>VII. Conclusion and Future Directions</strong><a class="headerlink" href="#vii-conclusion-and-future-directions" title="Permanent link">&para;</a></h2>
<h3 id="71-summary-of-the-architectural-design"><strong>7.1. Summary of the Architectural Design</strong><a class="headerlink" href="#71-summary-of-the-architectural-design" title="Permanent link">&para;</a></h3>
<p>This document has outlined a comprehensive architectural blueprint for creating a pure F# testing framework that captures the spirit and functionality of RSpec while leveraging the unique strengths of the F# language. The core of the design rests on several key decisions:</p>
<ul>
<li>A <strong>Computation Expression-based DSL</strong> that acts as a declarative builder for a TestNode tree, providing a type-safe foundation for the RSpec-like syntax.  </li>
<li>A <strong>fluent and type-safe assertion system</strong> built on higher-order functions and Discriminated Unions, which decouples matcher logic from failure reporting and provides rich, structured data for error messages.  </li>
<li>A <strong>stateful test runner</strong> that uses a scope stack to correctly implement RSpec's lexical scoping for state management constructs like let and before/after hooks.  </li>
<li>A <strong>rich and informative reporting layer</strong> powered by Spectre.Console, designed to present test results as living documentation and provide detailed, actionable feedback for failures.</li>
</ul>
<p>This architecture achieves the primary goal of creating an elegant, powerful, and fully independent BDD framework in F#, offering a compelling alternative for developers in the.NET ecosystem.</p>
<h3 id="72-future-enhancements"><strong>7.2. Future Enhancements</strong><a class="headerlink" href="#72-future-enhancements" title="Permanent link">&para;</a></h3>
<p>The proposed architecture provides a solid foundation that can be extended in several important directions to further increase its power and utility.</p>
<ul>
<li><strong>Parallel Execution:</strong> The explicit tree structure of the test suite is highly amenable to parallelization. Independent sub-trees (Group nodes with no shared, mutable state dependencies) could be dispatched to a thread pool for concurrent execution, significantly reducing the runtime of large test suites.  </li>
<li><strong>Advanced Mocking Library:</strong> A dedicated mocking library, inspired by rspec-mocks or F#'s own Foq 37, could be developed. Such a library would integrate seamlessly with the let' and subject mechanisms and leverage F# features like quotations to provide a type-safe and powerful mocking experience.  </li>
<li><strong>IDE and Editor Integration:</strong> Building a plugin for Visual Studio Code's Ionide extension 22 would dramatically improve the developer experience. This could include features like CodeLens annotations to run individual tests or groups directly from the editor, inline display of test failures, and debugging support.  </li>
<li><strong>Property-Based Testing Integration:</strong> The framework could be enhanced to seamlessly integrate FsCheck, a powerful property-based testing library for F#.16 An itProperty custom operation could be added, allowing developers to combine example-based BDD specifications with property-based tests within the same describe block, harnessing the strengths of both paradigms.</li>
</ul>
<h4 id="works-cited"><strong>Works cited</strong><a class="headerlink" href="#works-cited" title="Permanent link">&para;</a></h4>
<ol>
<li>How to test with RSpec: an extensive beginners guide | by Charlie Kroon - Medium, accessed October 31, 2025, <a href="https://medium.com/@charliekroon/how-to-test-with-rspec-an-extensive-beginners-guide-886086168d2d">https://medium.com/@charliekroon/how-to-test-with-rspec-an-extensive-beginners-guide-886086168d2d</a>  </li>
<li>pytest vs RSpec comparison of testing frameworks - Knapsack Pro, accessed October 31, 2025, <a href="https://knapsackpro.com/testing_frameworks/difference_between/pytest/vs/rspec">https://knapsackpro.com/testing_frameworks/difference_between/pytest/vs/rspec</a>  </li>
<li>RSpec: Behaviour Driven Development for Ruby, accessed October 31, 2025, <a href="https://rspec.info/">https://rspec.info/</a>  </li>
<li>Classroom Lecture: Deep Dive into RSpec - DevCamp, accessed October 31, 2025, <a href="https://devcamp.com/site_blogs/classroom-lecture-deep-dive-rspec">https://devcamp.com/site_blogs/classroom-lecture-deep-dive-rspec</a>  </li>
<li>The basic structure (`describe`/`it`) - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/3-12/rspec-core/example-groups/basic-structure/">https://rspec.info/features/3-12/rspec-core/example-groups/basic-structure/</a>  </li>
<li>Module: RSpec::Matchers â€” Documentation by YARD 0.8.0, accessed October 31, 2025, <a href="https://rspec.info/documentation/2.14/rspec-expectations/RSpec/Matchers">https://rspec.info/documentation/2.14/rspec-expectations/RSpec/Matchers</a>  </li>
<li>How I structure RSpec tests - Jake Goulding, accessed October 31, 2025, <a href="http://jakegoulding.com/presentations/rspec-structure/">http://jakegoulding.com/presentations/rspec-structure/</a>  </li>
<li>Computation expressions: Introduction | F# for fun and profit, accessed October 31, 2025, <a href="https://fsharpforfunandprofit.com/posts/computation-expressions-intro/">https://fsharpforfunandprofit.com/posts/computation-expressions-intro/</a>  </li>
<li>Functional programming: Code with F# computation expressions - Pluralsight, accessed October 31, 2025, <a href="https://www.pluralsight.com/resources/blog/software-development/fsharp-computation-expressions">https://www.pluralsight.com/resources/blog/software-development/fsharp-computation-expressions</a>  </li>
<li>Computation Expressions - F# | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/dotnet/fsharp/language-reference/computation-expressions">https://learn.microsoft.com/en-us/dotnet/fsharp/language-reference/computation-expressions</a>  </li>
<li>Creating DSLs using F#'s Computation Expressions : r/programming - Reddit, accessed October 31, 2025, <a href="https://www.reddit.com/r/programming/comments/1e048ta/creating_dsls_using_fs_computation_expressions/">https://www.reddit.com/r/programming/comments/1e048ta/creating_dsls_using_fs_computation_expressions/</a>  </li>
<li>The 'Computation Expressions' series | F# for fun and profit, accessed October 31, 2025, <a href="https://fsharpforfunandprofit.com/series/computation-expressions/">https://fsharpforfunandprofit.com/series/computation-expressions/</a>  </li>
<li>Pattern Matching - F# | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/dotnet/fsharp/language-reference/pattern-matching">https://learn.microsoft.com/en-us/dotnet/fsharp/language-reference/pattern-matching</a>  </li>
<li>What's new in F# 9 - F# Guide - .NET | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/dotnet/fsharp/whats-new/fsharp-9">https://learn.microsoft.com/en-us/dotnet/fsharp/whats-new/fsharp-9</a>  </li>
<li>dotnet test command - .NET CLI | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-test">https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-test</a>  </li>
<li>Using F# for testing | F# for fun and profit, accessed October 31, 2025, <a href="https://fsharpforfunandprofit.com/posts/low-risk-ways-to-use-fsharp-at-work-3/">https://fsharpforfunandprofit.com/posts/low-risk-ways-to-use-fsharp-at-work-3/</a>  </li>
<li>Creating a Lego Mindstorms DSL in F# | F# all the things, accessed October 31, 2025, <a href="https://atlemann.github.io/fsharp/2019/12/11/mindstorms-dsl.html">https://atlemann.github.io/fsharp/2019/12/11/mindstorms-dsl.html</a>  </li>
<li>Code Reading: Expectations in RSpec 3.0 - modocache.io, accessed October 31, 2025, <a href="https://modocache.io/code-reading-expectations-in-rspec-3-0">https://modocache.io/code-reading-expectations-in-rspec-3-0</a>  </li>
<li>Create, run, and customize C# unit tests - Visual Studio (Windows) | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/visualstudio/test/walkthrough-creating-and-running-unit-tests-for-managed-code?view=vs-2022">https://learn.microsoft.com/en-us/visualstudio/test/walkthrough-creating-and-running-unit-tests-for-managed-code?view=vs-2022</a>  </li>
<li>Building a Custom C# Test Runner from Scratch | by Lia Cohn ..., accessed October 31, 2025, <a href="https://medium.com/@lia.c/building-a-custom-c-test-runner-from-scratch-1f9d09ead363">https://medium.com/@lia.c/building-a-custom-c-test-runner-from-scratch-1f9d09ead363</a>  </li>
<li>F Sharp Programming/Reflection - Wikibooks, open books for an ..., accessed October 31, 2025, <a href="https://en.wikibooks.org/wiki/F_Sharp_Programming/Reflection">https://en.wikibooks.org/wiki/F_Sharp_Programming/Reflection</a>  </li>
<li>Creating F# solutions in VSCode from scratch | F# all the things, accessed October 31, 2025, <a href="https://atlemann.github.io/fsharp/2018/02/28/fsharp-solutions-from-scratch.html">https://atlemann.github.io/fsharp/2018/02/28/fsharp-solutions-from-scratch.html</a>  </li>
<li>A Deep Dive Into RSpec Tests in Ruby on Rails - AppSignal Blog, accessed October 31, 2025, <a href="https://blog.appsignal.com/2024/02/07/a-deep-dive-into-rspec-tests-in-ruby-on-rails.html">https://blog.appsignal.com/2024/02/07/a-deep-dive-into-rspec-tests-in-ruby-on-rails.html</a>  </li>
<li>Model specs - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/8-0/rspec-rails/model-specs/">https://rspec.info/features/8-0/rspec-rails/model-specs/</a>  </li>
<li>RSpec model, request and system specs? : r/rails - Reddit, accessed October 31, 2025, <a href="https://www.reddit.com/r/rails/comments/ibof0z/rspec_model_request_and_system_specs/">https://www.reddit.com/r/rails/comments/ibof0z/rspec_model_request_and_system_specs/</a>  </li>
<li>RSpec-Rails, Part 1. Adding Simple Model Tests To Rails | by David Ryan Morphew, accessed October 31, 2025, <a href="https://davidrmorphew.medium.com/rspec-rails-part-1-70c90882673a">https://davidrmorphew.medium.com/rspec-rails-part-1-70c90882673a</a>  </li>
<li>Request specs - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/6-0/rspec-rails/request-specs/request-spec/">https://rspec.info/features/6-0/rspec-rails/request-specs/request-spec/</a>  </li>
<li>Request specs - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/7-0/rspec-rails/request-specs/">https://rspec.info/features/7-0/rspec-rails/request-specs/</a>  </li>
<li>Integration tests in ASP.NET Core | Microsoft Learn, accessed October 31, 2025, <a href="https://learn.microsoft.com/en-us/aspnet/core/test/integration-tests?view=aspnetcore-9.0">https://learn.microsoft.com/en-us/aspnet/core/test/integration-tests?view=aspnetcore-9.0</a>  </li>
<li>Feature specs - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/7-0/rspec-rails/feature-specs/feature-spec/">https://rspec.info/features/7-0/rspec-rails/feature-specs/feature-spec/</a>  </li>
<li>The difference between Feature Specs and Request Specs - mike.williamson, accessed October 31, 2025, <a href="https://mikewilliamson.wordpress.com/2013/06/12/the-difference-between-feature-specs-and-request-specs/">https://mikewilliamson.wordpress.com/2013/06/12/the-difference-between-feature-specs-and-request-specs/</a>  </li>
<li>Feature specs - RSpec, accessed October 31, 2025, <a href="https://rspec.info/features/6-1/rspec-rails/feature-specs/">https://rspec.info/features/6-1/rspec-rails/feature-specs/</a>  </li>
<li>Spectre.Console - Welcome!, accessed October 31, 2025, <a href="https://spectreconsole.net/">https://spectreconsole.net/</a>  </li>
<li>[Presentation] FsSpectre, Spectre.Console with F# style : r/fsharp - Reddit, accessed October 31, 2025, <a href="https://www.reddit.com/r/fsharp/comments/10o85pa/presentation_fsspectre_spectreconsole_with_f_style/">https://www.reddit.com/r/fsharp/comments/10o85pa/presentation_fsspectre_spectreconsole_with_f_style/</a>  </li>
<li>Expect Â· Jest, accessed October 31, 2025, <a href="https://archive.jestjs.io/docs/en/22.x/expect">https://archive.jestjs.io/docs/en/22.x/expect</a>  </li>
<li>Sparky's Tool Tips: Fluent Assertions - DEV Community, accessed October 31, 2025, <a href="https://dev.to/sparky/these-are-a-few-of-my-favorite-tools-fluent-assertions-1a5o">https://dev.to/sparky/these-are-a-few-of-my-favorite-tools-fluent-assertions-1a5o</a>  </li>
<li>Testing and mocking your C# code with F# Â· Mathias Brandewinder blog, accessed October 31, 2025, <a href="https://brandewinder.com/2013/01/27/Testing-and-mocking-your-C-sharp-code-with-F-sharp/">https://brandewinder.com/2013/01/27/Testing-and-mocking-your-C-sharp-code-with-F-sharp/</a>  </li>
<li>An introduction to property-based testing Â· F# for Fun and Profit, accessed October 31, 2025, <a href="https://swlaschin.gitbooks.io/fsharpforfunandprofit/content/posts/property-based-testing.html">https://swlaschin.gitbooks.io/fsharpforfunandprofit/content/posts/property-based-testing.html</a>  </li>
<li>Writing and testing business logic in F# - Event-Driven.io, accessed October 31, 2025, <a href="https://event-driven.io/en/writing_and_testing_business_logic_in_fsharp/">https://event-driven.io/en/writing_and_testing_business_logic_in_fsharp/</a></li>
</ol>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 31, 2025 22:58:15 UTC"><span class="timeago" datetime="2025-10-31T22:58:15+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 31, 2025 22:58:15 UTC">2025-10-31</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 31, 2025 22:58:15 UTC"><span class="timeago" datetime="2025-10-31T22:58:15+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 31, 2025 22:58:15 UTC">2025-10-31</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 FxSpec Contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/yourorg/fx-spec" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "search.share", "header.autohide", "content.code.copy", "content.code.annotate", "content.tabs.link", "content.tooltips"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>